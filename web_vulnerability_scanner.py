import requests

def run_web_vulnerability_scan(url):
    results = {}

    # SQL Injection Test
    payload = "' OR '1'='1"
    test_url = f"{url}?id={payload}"
    try:
        response = requests.get(test_url, timeout=5)
        results["SQL Injection"] = "🚨 Vulnerable" if "error in your SQL syntax" in response.text.lower() else "✅ Secure"
    except requests.exceptions.RequestException:
        results["SQL Injection"] = "⚠️ Error checking"

    # XSS Test
    xss_payload = "<script>alert('XSS')</script>"
    test_xss_url = f"{url}?q={xss_payload}"
    try:
        response = requests.get(test_xss_url, timeout=5)
        results["XSS"] = "🚨 Vulnerable" if xss_payload in response.text else "✅ Secure"
    except requests.exceptions.RequestException:
        results["XSS"] = "⚠️ Error checking"

    return results
